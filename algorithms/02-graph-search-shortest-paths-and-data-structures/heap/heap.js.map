{"version":3,"file":"heap.js","sourceRoot":"","sources":["heap.ts"],"names":[],"mappings":"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","sourcesContent":["import * as sourceMapSupport from 'source-map-support';\n\nsourceMapSupport.install();\n\ntype CompFunction = (a: number, b: number) => boolean;\n\nclass Heap {\n  comp: CompFunction;\n  elements: Array<number>;\n\n  constructor(fn: CompFunction) {\n    this.comp = fn;\n    this.elements = [];\n  }\n\n  getParentIndex(index: number): number {\n    return Math.floor((index - 1) / 2);\n  }\n\n  swap(indexA: number, indexB: number): void {\n    const temp: number = this.elements[indexA];\n    this.elements[indexA] = this.elements[indexB];\n    this.elements[indexB] = temp;\n  }\n\n  bubbleUp(index: number): void {\n    const parentIndex = this.getParentIndex(index);\n    if (this.comp(this.elements[index], this.elements[parentIndex])) {\n      this.swap(parentIndex, index);\n      if (parentIndex != 0) {\n        this.bubbleUp(parentIndex);\n      }\n    }\n  }\n\n  insert(element: number): void {\n    this.elements.push(element);\n    this.bubbleUp(this.elements.length - 1);\n    /*\n        console.log(`inserted [${element}] [${this.elements.join(',')}]`);\n         */\n  }\n\n  bubbleDown(index: number) {\n    const value = this.elements[index];\n    const lChildIndex = index * 2 + 1;\n    const rChildIndex = index * 2 + 2;\n    const lChild = this.elements[lChildIndex];\n    const rChild = this.elements[rChildIndex];\n    if (typeof rChild !== 'undefined') {\n      if (this.comp(rChild, lChild)) {\n        if (this.comp(rChild, value)) {\n          this.swap(index, rChildIndex);\n          this.bubbleDown(rChildIndex);\n        }\n      } else {\n        if (this.comp(lChild, value)) {\n          this.swap(index, lChildIndex);\n          this.bubbleDown(lChildIndex);\n        }\n      }\n    } else if (typeof lChild !== 'undefined') {\n      if (this.comp(lChild, value)) {\n        this.swap(index, lChildIndex);\n        this.bubbleDown(lChildIndex);\n      }\n    }\n  }\n\n  pop(): number {\n    this.swap(0, this.elements.length - 1);\n    const element: number = this.elements.pop();\n    if (this.elements.length > 0) {\n      this.bubbleDown(0);\n    }\n    return element;\n  }\n}\n\nfunction lt(a: number, b: number): boolean {\n  return a < b;\n}\n\nconst input: string =\n  '6331\\n2793\\n1640\\n9290\\n225\\n625\\n6195\\n2303\\n5685\\n1354\\n4292\\n7600\\n';\nconst numbers: Array<number> = input\n  .trim()\n  .split('\\n')\n  .map((line: string): number => {\n    return parseInt(line.trim(), 10);\n  });\n\nconst heap: Heap = new Heap(lt);\n\nfor (const n of numbers) {\n  heap.insert(n);\n}\n\n/*\nwhile (heap.elements.length > 0) {\n  console.log(`poped [${heap.pop()}]`);\n}\n */\n\nexport { Heap };\n"]}